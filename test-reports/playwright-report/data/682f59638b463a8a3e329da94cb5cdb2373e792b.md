# Test info

- Name: Browser-Specific Feature Tests >> Form input validation appearance
- Location: /Users/troy.edwards/code/competitor-agent-tam-nve/e2e/browser-specific/browser-quirks.spec.ts:30:7

# Error details

```
Error: browserType.launch: Executable doesn't exist at /Users/troy.edwards/Library/Caches/ms-playwright/firefox-1482/firefox/Nightly.app/Contents/MacOS/firefox
╔═════════════════════════════════════════════════════════════════════════╗
║ Looks like Playwright Test or Playwright was just installed or updated. ║
║ Please run the following command to download new browsers:              ║
║                                                                         ║
║     npx playwright install                                              ║
║                                                                         ║
║ <3 Playwright Team                                                      ║
╚═════════════════════════════════════════════════════════════════════════╝
```

# Test source

```ts
   1 | /**
   2 |  * Browser-Specific Feature Testing
   3 |  * Task 6.2: Cross-Browser Testing
   4 |  * 
   5 |  * This file contains tests for browser-specific features and quirks that need special handling.
   6 |  */
   7 |
   8 | import { test, expect, Page } from '@playwright/test';
   9 | import { compareScreenshot } from '../helpers/visualRegressionHelper';
   10 |
   11 | // Test setup helpers
   12 | async function setupTest(page: Page, url: string): Promise<void> {
   13 |   await page.goto(url);
   14 |   await page.waitForLoadState('networkidle');
   15 |   await page.waitForTimeout(1000); // Allow time for any animations/lazy loading
   16 | }
   17 |
   18 | test.describe('Browser-Specific Feature Tests', () => {
   19 |   // Different browsers for conditional test execution
   20 |   const chromiumOnly = test.extend({});
   21 |   chromiumOnly.describe.configure({ condition: ({ browserName }) => browserName === 'chromium' });
   22 |   
   23 |   const firefoxOnly = test.extend({});
   24 |   firefoxOnly.describe.configure({ condition: ({ browserName }) => browserName === 'firefox' });
   25 |   
   26 |   const webkitOnly = test.extend({});
   27 |   webkitOnly.describe.configure({ condition: ({ browserName }) => browserName === 'webkit' });
   28 |   
   29 |   // Common tests across all browsers
>  30 |   test('Form input validation appearance', async ({ page, browserName }) => {
      |       ^ Error: browserType.launch: Executable doesn't exist at /Users/troy.edwards/Library/Caches/ms-playwright/firefox-1482/firefox/Nightly.app/Contents/MacOS/firefox
   31 |     await setupTest(page, '/projects/new');
   32 |     
   33 |     // Test HTML5 form validation (appears differently in browsers)
   34 |     const nameInput = page.locator('[data-testid="project-name"]');
   35 |     await nameInput.click();
   36 |     await nameInput.fill(''); // Empty value
   37 |     
   38 |     // Trigger validation by trying to submit
   39 |     await page.click('[data-testid="create-project"]');
   40 |     await page.waitForTimeout(500); // Wait for validation UI
   41 |     
   42 |     // Screenshot the validation state
   43 |     await compareScreenshot(page, {
   44 |       name: `form-validation-${browserName}`,
   45 |       selector: 'form',
   46 |       maskDynamicContent: true,
   47 |     });
   48 |     
   49 |     // Check if validation message is shown (implementation varies by browser)
   50 |     const isInvalid = await nameInput.evaluate((el: HTMLInputElement) => !el.validity.valid);
   51 |     expect(isInvalid).toBe(true);
   52 |   });
   53 |   
   54 |   test('CSS flexbox layout rendering', async ({ page, browserName }) => {
   55 |     await setupTest(page, '/projects/new');
   56 |     
   57 |     // Test flexbox rendering which can differ between browsers
   58 |     const flexContainer = page.locator('.competitor-list');
   59 |     if (await flexContainer.isVisible()) {
   60 |       await compareScreenshot(page, {
   61 |         name: `flexbox-layout-${browserName}`,
   62 |         selector: '.competitor-list',
   63 |         maskDynamicContent: true,
   64 |       });
   65 |     }
   66 |   });
   67 |   
   68 |   // Browser-specific tests
   69 |   
   70 |   // Chrome-specific tests
   71 |   chromiumOnly.describe('Chrome-specific features', () => {
   72 |     test('Chrome-specific CSS features', async ({ page }) => {
   73 |       await setupTest(page, '/projects/new');
   74 |       
   75 |       // Test Chrome-specific features like ::-webkit-scrollbar
   76 |       await page.addStyleTag({
   77 |         content: `
   78 |           .scrollable-element::-webkit-scrollbar {
   79 |             width: 12px;
   80 |             background-color: #f5f5f5;
   81 |           }
   82 |           .scrollable-element::-webkit-scrollbar-thumb {
   83 |             background-color: #0056b3;
   84 |             border-radius: 6px;
   85 |           }
   86 |         `
   87 |       });
   88 |       
   89 |       // Create a scrollable element for testing
   90 |       await page.evaluate(() => {
   91 |         const div = document.createElement('div');
   92 |         div.className = 'scrollable-element';
   93 |         div.style.height = '100px';
   94 |         div.style.overflow = 'auto';
   95 |         div.innerHTML = '<div style="height: 500px;">Scrollable content</div>';
   96 |         document.body.appendChild(div);
   97 |       });
   98 |       
   99 |       await page.waitForTimeout(500);
  100 |       
  101 |       // Take screenshot of scrollbar styles
  102 |       await compareScreenshot(page, {
  103 |         name: 'chrome-scrollbar',
  104 |         selector: '.scrollable-element',
  105 |       });
  106 |     });
  107 |   });
  108 |   
  109 |   // Firefox-specific tests
  110 |   firefoxOnly.describe('Firefox-specific features', () => {
  111 |     test('Firefox form element styling', async ({ page }) => {
  112 |       await setupTest(page, '/projects/new');
  113 |       
  114 |       // Firefox has different form control styling
  115 |       await compareScreenshot(page, {
  116 |         name: 'firefox-form-controls',
  117 |         selector: 'form',
  118 |       });
  119 |       
  120 |       // Test Firefox-specific form behaviors
  121 |       // Firefox handles some form validations differently
  122 |       const websiteInput = page.locator('[data-testid="product-website"]');
  123 |       await websiteInput.fill('not-a-valid-url');
  124 |       await page.click('[data-testid="create-project"]');
  125 |       
  126 |       await compareScreenshot(page, {
  127 |         name: 'firefox-url-validation',
  128 |         selector: 'form',
  129 |       });
  130 |     });
```