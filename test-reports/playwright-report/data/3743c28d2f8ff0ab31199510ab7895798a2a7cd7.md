# Test info

- Name: Mobile Critical Features >> Mobile form interaction works
- Location: /Users/troy.edwards/code/competitor-agent-tam-nve/e2e/cross-browser/critical-features.spec.ts:324:7

# Error details

```
Error: browserType.launch: Executable doesn't exist at /Users/troy.edwards/Library/Caches/ms-playwright/webkit-2158/pw_run.sh
╔═════════════════════════════════════════════════════════════════════════╗
║ Looks like Playwright Test or Playwright was just installed or updated. ║
║ Please run the following command to download new browsers:              ║
║                                                                         ║
║     npx playwright install                                              ║
║                                                                         ║
║ <3 Playwright Team                                                      ║
╚═════════════════════════════════════════════════════════════════════════╝
```

# Test source

```ts
  224 |     
  225 |     // Progress through form steps
  226 |     await page.keyboard.press('Tab');
  227 |     await page.waitForTimeout(2000);
  228 |     
  229 |     const nextButton = page.locator('[data-testid="next-button"]');
  230 |     await expect(nextButton).toBeEnabled({ timeout: 10000 });
  231 |     
  232 |     // Verify we can at least start the project creation process
  233 |     // (Even if we don't complete all 7 steps, this validates the core workflow)
  234 |     
  235 |     // Take screenshot showing successful form validation
  236 |     await compareScreenshot(page, {
  237 |       name: `end-to-end-workflow-${browserName}`,
  238 |       selector: 'main',
  239 |       maskDynamicContent: true,
  240 |     });
  241 |     
  242 |     // Verify project creation form is working
  243 |     expect(page.url()).toContain('/projects/new');
  244 |     expect(await nextButton.isEnabled()).toBeTruthy();
  245 |   });
  246 |   
  247 |   // Navigation component test
  248 |   test('Navigation works across browsers', async ({ page, browserName }) => {
  249 |     await page.goto('/');
  250 |     
  251 |     // Check navigation items
  252 |     const navItems = page.locator('nav a');
  253 |     expect(await navItems.count()).toBeGreaterThan(0);
  254 |     
  255 |     // Click on a navigation item
  256 |     const reportsLink = page.locator('nav a[href*="/reports"]').first();
  257 |     if (await reportsLink.isVisible()) {
  258 |       await reportsLink.click();
  259 |       await page.waitForURL(/\/reports/, { timeout: TIMEOUTS.navigation });
  260 |       expect(page.url()).toContain('/reports');
  261 |     }
  262 |     
  263 |     // Take screenshot of navigation
  264 |     await compareScreenshot(page, {
  265 |       name: `navigation-${browserName}`,
  266 |       selector: 'nav',
  267 |       maskDynamicContent: true,
  268 |     });
  269 |   });
  270 |   
  271 |   // Error handling test
  272 |   test('Error handling works across browsers', async ({ page, browserName }) => {
  273 |     // Force a 404 error
  274 |     await page.goto('/nonexistent-page');
  275 |     
  276 |     // Check if error page is displayed
  277 |     const errorElement = page.locator('text=/not found|404/i');
  278 |     expect(await errorElement.isVisible()).toBeTruthy();
  279 |     
  280 |     // Take screenshot of error page
  281 |     await compareScreenshot(page, {
  282 |       name: `error-page-${browserName}`,
  283 |       selector: 'main',
  284 |       maskDynamicContent: true,
  285 |     });
  286 |   });
  287 | });
  288 |
  289 | // Mobile-specific critical features
  290 | test.describe('Mobile Critical Features', () => {
  291 |   test.beforeEach(async ({ page }) => {
  292 |     // Set mobile viewport
  293 |     await page.setViewportSize({ width: 375, height: 667 });
  294 |   });
  295 |   
  296 |   test('Mobile navigation menu works', async ({ page, browserName }) => {
  297 |     await page.goto('/');
  298 |     
  299 |     // Look for hamburger menu
  300 |     const menuToggle = page.locator('[data-testid="mobile-menu-toggle"], .hamburger, .menu-toggle');
  301 |     
  302 |     if (await menuToggle.isVisible()) {
  303 |       // Open mobile menu
  304 |       await menuToggle.click();
  305 |       await page.waitForTimeout(500); // Wait for animation
  306 |       
  307 |       // Check if menu items are visible
  308 |       const menuItems = page.locator('.mobile-menu a, .nav-menu a');
  309 |       expect(await menuItems.count()).toBeGreaterThan(0);
  310 |       
  311 |       // Take screenshot of open menu
  312 |       await compareScreenshot(page, {
  313 |         name: `mobile-menu-${browserName}`,
  314 |         selector: 'body',
  315 |         maskDynamicContent: true,
  316 |       });
  317 |       
  318 |       // Test menu item click
  319 |       await menuItems.first().click();
  320 |       await page.waitForNavigation({ timeout: TIMEOUTS.navigation });
  321 |     }
  322 |   });
  323 |   
> 324 |   test('Mobile form interaction works', async ({ page, browserName }) => {
      |       ^ Error: browserType.launch: Executable doesn't exist at /Users/troy.edwards/Library/Caches/ms-playwright/webkit-2158/pw_run.sh
  325 |     await page.goto('/projects/new');
  326 |     
  327 |     // Test form interactions on mobile
  328 |     const nameInput = page.locator('[data-testid="project-name"]');
  329 |     await nameInput.click();
  330 |     
  331 |     // Verify focus behavior (virtual keyboard should appear on real devices)
  332 |     expect(await nameInput.evaluate(el => document.activeElement === el)).toBeTruthy();
  333 |     
  334 |     // Fill form
  335 |     await nameInput.fill(TEST_PROJECT.name);
  336 |     
  337 |     // Take screenshot of form with virtual keyboard focus
  338 |     await compareScreenshot(page, {
  339 |       name: `mobile-form-${browserName}`,
  340 |       selector: 'form',
  341 |       maskDynamicContent: true,
  342 |     });
  343 |   });
  344 | });
  345 |
  346 | // Accessibility tests across browsers
  347 | test.describe('Cross-Browser Accessibility', () => {
  348 |   test('Focus indicators work across browsers', async ({ page, browserName }) => {
  349 |     await page.goto('/projects/new');
  350 |     
  351 |     // Test keyboard focus indicators
  352 |     const nameInput = page.locator('[data-testid="project-name"]');
  353 |     await nameInput.focus();
  354 |     
  355 |     // Take screenshot of focused element
  356 |     await compareScreenshot(page, {
  357 |       name: `focus-indicator-${browserName}`,
  358 |       selector: 'form',
  359 |       maskDynamicContent: true,
  360 |     });
  361 |     
  362 |     // Tab to next element
  363 |     await page.keyboard.press('Tab');
  364 |     await page.waitForTimeout(500);
  365 |     
  366 |     // Take screenshot of next focused element
  367 |     await compareScreenshot(page, {
  368 |       name: `focus-indicator-next-${browserName}`,
  369 |       selector: 'form',
  370 |       maskDynamicContent: true,
  371 |     });
  372 |   });
  373 | }); 
```