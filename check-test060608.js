require("dotenv").config(); const { PrismaClient } = require("@prisma/client"); const prisma = new PrismaClient(); async function checkTest060608() { console.log("🔍 Detailed test060608 investigation\n"); const project = await prisma.project.findFirst({ where: { name: "test060608" }, include: { competitors: true, reports: true } }); if (!project) { console.log("❌ Project test060608 not found!"); return; } console.log(`✅ Project: ${project.name} (${project.id})`); console.log(`Competitors: ${project.competitors.length}`); project.competitors.forEach((c, i) => console.log(`  ${i+1}. ${c.name}`)); console.log(`Reports: ${project.reports.length}`); project.reports.forEach((r, i) => console.log(`  ${i+1}. ${r.title || r.name} (${r.id})`)); const recentReports = await prisma.report.findMany({ where: { project: { name: "test060608" } }, include: { project: true, competitor: true }, orderBy: { createdAt: "desc" } }); console.log(`\nReports for test060608: ${recentReports.length}`); recentReports.forEach((r, i) => console.log(`  ${i+1}. ${r.title || r.name} - Status: ${r.status} - Competitor: ${r.competitor.name}`)); await prisma.$disconnect(); } checkTest060608();
